{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const fetchPhotosByQuery = searchedQuery => {\n    const searchParams = new URLSearchParams({\n      q: searchedQuery,\n      key: '48265594-3edacf02e8cadda91195713cc',\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: 'true',\n    });\n  \n    return fetch(`https://pixabay.com/api/?${searchParams}`).then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n  \n      return response.json();\n    });\n  };","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 200,\n});\n\n\nexport function galleryCard({webformatURL,largeImageUR,tags,likes,views,comments,downloads}){\n    return `<div class=\"card\">\n    <div class=\"card-apperance\">\n<a href=\"${largeImageUR}\" class=\"card-link\">\n<img src=\"${webformatURL}\" alt=\"${tags}\">\n</a>\n</div>\n<div class=\"card-discription\">\n<p class=\"discription\">Likes${likes}</p>\n<p class=\"discription\">Views${views}</p>\n<p class=\"discription\">Comments${comments}</p>\n<p class=\"discription\">Downloads${downloads}</p>\n</div>\n</div>`\n};\n\nexport function renderImages(images, container) {\n    const imagesMarkup = images.map(galleryCard).join('');\n    container.innerHTML = imagesMarkup;\n  \n    lightbox.refresh();  \n  }\n","\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { fetchPhotosByQuery } from \"./js/pixabay-api.js\"\nimport { galleryCard, renderImages } from \"./js/render-functions.js\"\n\n\n\nconst refs = {\n    button : document.querySelector('.btn'),\n    form: document.querySelector('.form'),\n    input: document.querySelector('.input'),\n    gallery: document.querySelector('.gallery'),\n    loader: document.querySelector(\".loader\"),\n}\n\n\n\nrefs.form.addEventListener(\"submit\", handlerEvent);\n\nfunction handlerEvent(event){\n    event.preventDefault();\n\n    const formQuery = event.currentTarget.elements.query.value;\n\nif(formQuery === \"\"){\n    iziToast.show({\n        class: \"wave-stroke\",   \n        message: 'ðŸš«Sorry, there are no images matching your search query. Please try again!',\n        position: \"topRight\",\n        closeOnEscape: true,\n        closeOnClick: true,\n        backgroundColor: \"#e3545b\",\n});\nreturn;\n}\n\nconsole.log(formQuery);\n\n\nrefs.gallery.innerHTML = \"\";\nshowLoader();\n\nfetchPhotosByQuery(formQuery)\n.then(data =>{\n    if(data.hits.length === 0){\n        iziToast.show({\n            title:'No results',\n            message:'Sorry, there are no images matching your search query. Please try again!',\n            color:'#e3545b',\n            position:\"topRight\"\n        });\n    }else{\n        renderImages(data.hits, refs.gallery)\n    }\n})\n .catch(error =>{\n    iziToast.show({\n        title:\"Error\",\n        message:\"Something went wrong. Please try again later.\",\n        color:'#e3545b',\n        position:\"topRight\"\n    });\n })\n.finally(() => {\n    hideLoader();\n    refs.form.reset();\n});\n}\n\nfunction showLoader() {\n    refs.loader.classList.remove(\"hidden\");\n  }\n  \n  function hideLoader() {\n    refs.loader.classList.add(\"hidden\");\n  }\n"],"names":["fetchPhotosByQuery","searchedQuery","searchParams","response","lightbox","SimpleLightbox","galleryCard","webformatURL","largeImageUR","tags","likes","views","comments","downloads","renderImages","images","container","imagesMarkup","refs","handlerEvent","event","formQuery","iziToast","showLoader","data","error","hideLoader"],"mappings":"6vBAAO,MAAMA,EAAqBC,GAAiB,CAC/C,MAAMC,EAAe,IAAI,gBAAgB,CACvC,EAAGD,EACH,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,MAClB,CAAK,EAED,OAAO,MAAM,4BAA4BC,CAAY,EAAE,EAAE,KAAKC,GAAY,CACxE,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACtB,CAAK,CACF,ECbGC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAGM,SAASC,EAAY,CAAC,aAAAC,EAAa,aAAAC,EAAa,KAAAC,EAAK,MAAAC,EAAM,MAAAC,EAAM,SAAAC,EAAS,UAAAC,CAAS,EAAE,CACxF,MAAO;AAAA;AAAA,WAEAL,CAAY;AAAA,YACXD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,8BAIRC,CAAK;AAAA,8BACLC,CAAK;AAAA,iCACFC,CAAQ;AAAA,kCACPC,CAAS;AAAA;AAAA,OAG3C,CAEO,SAASC,EAAaC,EAAQC,EAAW,CAC5C,MAAMC,EAAeF,EAAO,IAAIT,CAAW,EAAE,KAAK,EAAE,EACpDU,EAAU,UAAYC,EAEtBb,EAAS,QAAO,CACpB,CCtBA,MAAMc,EAAO,CACT,OAAS,SAAS,cAAc,MAAM,EACtC,KAAM,SAAS,cAAc,OAAO,EACpC,MAAO,SAAS,cAAc,QAAQ,EACtC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC5C,EAIAA,EAAK,KAAK,iBAAiB,SAAUC,CAAY,EAEjD,SAASA,EAAaC,EAAM,CACxBA,EAAM,eAAc,EAEpB,MAAMC,EAAYD,EAAM,cAAc,SAAS,MAAM,MAEzD,GAAGC,IAAc,GAAG,CAChBC,EAAS,KAAK,CACV,MAAO,cACP,QAAS,6EACT,SAAU,WACV,cAAe,GACf,aAAc,GACd,gBAAiB,SACzB,CAAC,EACD,MACA,CAEA,QAAQ,IAAID,CAAS,EAGrBH,EAAK,QAAQ,UAAY,GACzBK,IAEAvB,EAAmBqB,CAAS,EAC3B,KAAKG,GAAO,CACNA,EAAK,KAAK,SAAW,EACpBF,EAAS,KAAK,CACV,MAAM,aACN,QAAQ,2EACR,MAAM,UACN,SAAS,UACrB,CAAS,EAEDR,EAAaU,EAAK,KAAMN,EAAK,OAAO,CAE5C,CAAC,EACC,MAAMO,GAAQ,CACZH,EAAS,KAAK,CACV,MAAM,QACN,QAAQ,gDACR,MAAM,UACN,SAAS,UACjB,CAAK,CACL,CAAE,EACD,QAAQ,IAAM,CACXI,IACAR,EAAK,KAAK,OACd,CAAC,CACD,CAEA,SAASK,GAAa,CAClBL,EAAK,OAAO,UAAU,OAAO,QAAQ,CACtC,CAED,SAASQ,GAAa,CACpBR,EAAK,OAAO,UAAU,IAAI,QAAQ,CACtC"}